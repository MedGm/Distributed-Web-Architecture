<div class="app-layout">
  <!-- Header Navigation -->
  <header class="app-header">
    <div class="header-content">
      <div class="header-left">
        <h1 class="app-title">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
          Gestion des Employés
        </h1>
      </div>
      <div class="header-right">
        <button (click)="logout()" class="btn btn-logout">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
          Déconnexion
        </button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <div class="container">
      <!-- Page Header -->
      <div class="page-header">
        <div>
          <h2>Liste des Employés</h2>
          <p class="page-subtitle">Gérez vos employés efficacement</p>
        </div>
        <a routerLink="/employees/add" class="btn btn-primary btn-add">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
          Ajouter un employé
        </a>
      </div>

      <!-- Error Message -->
      <div *ngIf="error" class="alert alert-error">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="8" x2="12" y2="12"></line>
          <line x1="12" y1="16" x2="12.01" y2="16"></line>
        </svg>
        {{ error }}
      </div>

      <!-- Loading State -->
      <div *ngIf="loading" class="loading-container">
        <div class="spinner"></div>
        <p>Chargement des employés...</p>
      </div>

      <!-- Empty State -->
      <div *ngIf="!loading && employees.length === 0" class="empty-state">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
        </svg>
        <h3>Aucun employé trouvé</h3>
        <p>Commencez par ajouter votre premier employé</p>
        <a routerLink="/employees/add" class="btn btn-primary">Ajouter un employé</a>
      </div>

      <!-- Employees Table -->
      <div *ngIf="!loading && employees.length > 0" class="table-container">
        <table class="employee-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Prénom</th>
              <th>Nom</th>
              <th>Email</th>
              <th>Salaire</th>
              <th class="actions-header">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let employee of employees; trackBy: trackByEmployeeId">
              <td class="id-cell">{{ employee.id }}</td>
              <td><strong>{{ employee.firstName }}</strong></td>
              <td>{{ employee.lastName }}</td>
              <td class="email-cell">{{ employee.email }}</td>
              <td class="salary-cell">{{ employee.salary | number:'1.2-2' }} <span class="currency">MAD</span></td>
              <td class="actions-cell">
                <a [routerLink]="['/employees/details', employee.id]" class="btn-action btn-info" title="Voir les détails">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                </a>
                <a [routerLink]="['/employees/edit', employee.id]" class="btn-action btn-warning" title="Modifier">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                  </svg>
                </a>
                <button (click)="deleteEmployee(employee.id)" class="btn-action btn-danger" title="Supprimer">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="3 6 5 6 21 6"></polyline>
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                  </svg>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </main>
</div>
